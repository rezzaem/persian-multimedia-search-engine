<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8">
  	<meta name="viewport" content="initial-scale=1, width=device-width">
  	
  	
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Yekan Bakh:wght@400;500&display=swap" />
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" />
  	
  	<style>
    		body {
      			margin: 0;
      			line-height: normal;
    		}
    		.video:hover{
                opacity: 0.7;
            };
    		
    		
  	</style>
  	
  	
</head>
<body>
  	
  	<div style="width: 100%;  position: relative;  background-color: #694ddd;  height: 127.813rem;  text-align: center;  font-size: 0.75rem;  color: #fff;  font-family: 'Yekan Bakh';">
    		<div style="position: absolute;  height: 100%;  width: 100%;  top: 0rem;  right: 0%;  bottom: 0rem;  left: 0%;  text-align: left;  font-family: Roboto;">
      			<img style="position: absolute;  height: 100%;  width: 100%;  top: 0rem;  right: 0rem;  bottom: 0rem;  left: 0rem;  max-width: 100%;  overflow: hidden;  max-height: 100%;  object-fit: cover;" alt="" src="{{ url_for('static', filename='Images/Frame 48 1.png') }}">
      			
      			<div style="position: absolute;  width: 63.89%;  top: 32rem;  right: 18.09%;  left: 18.02%;  border-radius: 25px;  height: 85.313rem;  display: flex;  flex-direction: column;  align-items: center;  justify-content: flex-start;  gap: 2.062rem;">
        				<div style="align-self: stretch;  display: flex;  flex-direction: column;  align-items: center;  justify-content: flex-start;  gap: 0.562rem;  text-align: center;  font-size: 1rem;  color: rgba(255, 255, 255, 0.86);  font-family: 'Yekan Bakh';">
          					<div style="align-self: stretch;  backdrop-filter: blur(25px);  border-radius: 12px;  background-color: rgba(255, 255, 255, 0.05);  overflow: hidden;  display: flex;  flex-direction: row;  align-items: center;  justify-content: center;  padding: 1.375rem 1.625rem;  text-align: right;">
            						<div style="flex: 1;  display: flex;  flex-direction: row;  align-items: center;  justify-content: center;">
              							<div id="ai_message" style="flex: 1;  position: relative;"> </div>
                                        

            						</div>
          					</div>
        				</div>
        				<div id='video_container' style="align-self: stretch;  display: flex;  flex-direction: row;  flex-wrap: wrap;  align-items: flex-start;  justify-content: center;  gap: 1rem;">
          					
          					
          					
        				</div>
        				<div style="align-self: stretch;  display: flex;  flex-direction: row;  flex-wrap: wrap;  align-items: flex-start;  justify-content: center;  gap: 1rem;">
          					
          					
          					
        				</div>
        				<div style="align-self: stretch;  display: flex;  flex-direction: row;  flex-wrap: wrap;  align-items: flex-start;  justify-content: center;  gap: 1rem;">
          					
          					
          					
        				</div>
        				<div style="align-self: stretch;  display: flex;  flex-direction: row;  flex-wrap: wrap;  align-items: flex-start;  justify-content: center;  gap: 1rem;">
          					
          					
          					
        				</div>
      			</div>
      			<div style="position: absolute;  width: 100%;  right: 0%;  bottom: 0rem;  left: 0%;  overflow: hidden;  display: flex;  flex-direction: row;  align-items: center;  justify-content: center;  padding: 1.5rem 16.75rem;  box-sizing: border-box;  text-align: center;  font-size: 1.063rem;  color: rgba(255, 255, 255, 0.86);  font-family: 'Yekan Bakh';">
        				<div style="position: relative;  line-height: 0.75rem;">کلیه حقوق برای لوگو محفوظ است.</div>
      			</div>
    		</div>
            <input placeholder="فکر نکن، جست و جو کن" type="text" id="searchBarContainer" style="text-align: right ; position: absolute;  width: 46.53%;  top: 24.813rem;  right: 26.74%;  left: 26.74%;  backdrop-filter: blur(25px);  border-radius: 40px;  background-color: rgba(255, 255, 255, 0.05);  display: flex;  flex-direction: row;  align-items: center;  justify-content: space-between;  padding: 0.75rem 1.125rem;  box-sizing: border-box;  cursor: pointer;  font-size: 1rem;  color: rgba(255, 255, 255, 0.86);">

    		</input>
      			
    		</div>
    		<div style="color: white;position: absolute;  width: 100%;  top: 0rem;  right: 0rem;  left: 0rem;  height: 6.063rem;  overflow: hidden;  display: flex;  flex-direction: row;  flex-wrap: wrap;  align-items: center;  justify-content: space-between;  padding: 1.5rem 2.625rem;  box-sizing: border-box;  font-size: 0.916rem;">
                <div style="width: 2.5rem;  height: 2.5rem;  overflow: hidden;  flex-shrink: 0;  display: flex;  flex-direction: row;  align-items: center;  justify-content: center;  padding: 0.125rem;  box-sizing: border-box;  cursor: pointer;" id="darklightModeContainer">
                      <img style="width: 1.319rem;  position: relative;  height: 1.319rem;" alt="" src="{{ url_for('static', filename='Images/Group.svg') }}">
                      
                </div>
                <div style="height: 1.919rem;  overflow: hidden;  display: flex;  flex-direction: row;  align-items: center;  justify-content: center;  padding: 0.668rem 0.875rem;  box-sizing: border-box;  gap: 1.25rem;">
                      <div style="width: 3.25rem;  position: relative;  line-height: 0.499rem;  font-weight: 500;  display: flex;  align-items: center;  justify-content: center;  height: 1.25rem;  flex-shrink: 0;">ارتباط با ما</div>
                      <img style="width: 0.956rem;  position: relative;  height: 1.419rem;  overflow: hidden;  flex-shrink: 0;" alt="" src="{{ url_for('static', filename='Images/Frame 8.svg') }}">
                      
                      <div style="width: 2.75rem;  position: relative;  line-height: 0.499rem;  font-weight: 500;  display: flex;  align-items: center;  justify-content: center;  height: 1.25rem;  flex-shrink: 0;">درباره ما</div>
                      <img style="width: 0.956rem;  position: relative;  height: 1.419rem;  overflow: hidden;  flex-shrink: 0;" alt="" src="{{ url_for('static', filename='Images/Frame 9.svg') }}">
                      
                      <div style="width: 2.688rem;  position: relative;  line-height: 0.499rem;  font-weight: 500;  display: flex;  align-items: center;  justify-content: center;  height: 1.25rem;  flex-shrink: 0;  cursor: pointer;" id="text2">خانه</div>
                </div>
                <div style="width: 3.456rem;  position: relative;  font-size: 1.75rem;  line-height: 0.5rem;  font-weight: 500;  display: flex;  align-items: center;  justify-content: center;  flex-shrink: 0;  cursor: pointer;" id="text">لوگو</div>
          </div>
  	</div>
  	
  	
  	
  	
  	<script>
        document.addEventListener('DOMContentLoaded', () => {
            const result = JSON.parse({{ result|tojson|safe }});
            document.getElementById('searchBarContainer').value=result.query;
            displayVideoList(result.videos,result.ai_message)
            // search box functionality
            document.getElementById('searchBarContainer').addEventListener("keypress",(e)=>{
				var code = (e.keyCode ? e.keyCode : e.which);
				if (code == 13 && document.getElementById('searchBarContainer').value.length>1) {
					window.location.href = `/search_list/${document.getElementById('searchBarContainer').value}`;

				}
			});

        });
        function displayVideoList(videoItems,ai_message){
			let idArray=[];
			let array=[];
			let title_array=[];
			let x=0;
			let element = document.createElement("div");

						
			//---------------------------
			let em_str=""
			videoItems.forEach(video => {
				let idString="showed-video"+x;
				idArray.push(idString);
				const videoTitle = video.snippet.title;
				const videoThumbnail = video.snippet.thumbnails.default.url;
				let videoid=video.id.videoId+"";
				title_array.push(videoTitle)
                array.push(videoid);
				
				em_str+="          \t\t\t\t\t<div class='video' id='"+idArray[x]+"' style=\"cursor: pointer;width: 18.5rem;  position: relative;  backdrop-filter: blur(25px);  border-radius: 12px;  background-color: rgba(255, 255, 255, 0.06);  height: 14.625rem;\">\n" +
								"            \t\t\t\t\t\t<div style=\"position: absolute;  top: calc(50% - 107px);  left: calc(50% - 138px);  display: flex;  flex-direction: column;  align-items: center;  justify-content: center;  gap: 0.75rem;\">\n" +
								"              \t\t\t\t\t\t\t<div style=\"width: 17.25rem;  position: relative;  border-radius: 12px;  height: 9.75rem;  overflow: hidden;  flex-shrink: 0;\">\n" +
								"                \t\t\t\t\t\t\t\t<img style=\"position: absolute;  top: 0rem;  left: 0rem;  width: 17.25rem;  height: 9.75rem;  object-fit: cover;\" alt=\"\" >\n" +
								"                \t\t\t\t\t\t\t\t\n" +
								"                \t\t\t\t\t\t\t\t<div style=\"position: absolute;  top: 8.375rem;  left: 15rem;  border-radius: 2px;  background-color: rgba(0, 0, 0, 0.8);  display: flex;  flex-direction: row;  align-items: flex-start;  justify-content: flex-start;  padding: 0.187rem 0.25rem;\">\n" +
								"                  \t\t\t\t\t\t\t\t\t<div style=\"position: relative;  line-height: 0.75rem;  font-weight: 500;\">3:15</div>\n" +
								"                \t\t\t\t\t\t\t\t</div>\n" +
								"              \t\t\t\t\t\t\t</div>\n" +
								"              \t\t\t\t\t\t\t<div style=\"display: flex;  flex-direction: row;  align-items: flex-start;  justify-content: flex-start;  gap: 0.75rem;  font-size: 1rem;  color: rgba(255, 255, 255, 0.86);  font-family: 'Yekan Bakh';\">\n" +
								"                \t\t\t\t\t\t\t\t<img style=\"width: 2.25rem;  position: relative;  height: 2.25rem;  object-fit: cover;\" alt=\"\" >\n" +
								"                \t\t\t\t\t\t\t\t\n" +
								"                \t\t\t\t\t\t\t\t<div style=\"width: 14.25rem;  display: flex;  flex-direction: column;  align-items: flex-start;  justify-content: flex-start;  gap: 0.25rem;\">\n" +
								"                  \t\t\t\t\t\t\t\t\t<div style=\"align-self: stretch;  position: relative;  line-height: 1.375rem;  font-weight: 500;\">"+videoTitle+" </div>\n" +
								"                  \t\t\t\t\t\t\t\t\t<div style=\"align-self: stretch;  overflow: hidden;  display: flex;  flex-direction: row;  align-items: flex-start;  justify-content: flex-start;  gap: 0.75rem;  font-size: 0.875rem;  color: #606060;  font-family: Roboto;\">\n" +
								"                    \t\t\t\t\t\t\t\t\t\t<div style=\"width: 3rem;  display: flex;  flex-direction: row;  align-items: center;  justify-content: flex-start;\">\n" +
								"                      \t\t\t\t\t\t\t\t\t\t\t<div style=\"position: relative;  line-height: 1.25rem;\">Digiato</div>\n" +
								"                    \t\t\t\t\t\t\t\t\t\t</div>\n" +
								"                    \t\t\t\t\t\t\t\t\t\t<div style=\"width: 14.25rem;  position: relative;  line-height: 1.25rem;  display: inline-block;  flex-shrink: 0;\">1M views • 15 days ago</div>\n" +
								"                  \t\t\t\t\t\t\t\t\t</div>\n" +
								"                \t\t\t\t\t\t\t\t</div>\n" +
								"              \t\t\t\t\t\t\t</div>\n" +
								"            \t\t\t\t\t\t</div>\n" +
								"          \t\t\t\t\t</div>\n";
												x++;

			});

				

				//-------------------------
	
;


				document.getElementById('video_container').innerHTML=em_str
                document.getElementById('ai_message').textContent=ai_message
				for(let i=0;i<12;i++){
					let video_player=document.getElementById(idArray[i]);
			video_player.addEventListener('click', () => {
            videoClicked(array[i],title_array[i]);
        });
				}

		};
    	function videoClicked(videoid,videotitle) {
		let mix_send=videoid+"_"+videotitle
		window.location.href = `/video/${mix_send}`;
    }

    </script>
    </body>
</html>